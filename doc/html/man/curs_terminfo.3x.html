<!--
  ****************************************************************************
  * Copyright 2018-2020,2021 Thomas E. Dickey                                *
  * Copyright 1998-2016,2017 Free Software Foundation, Inc.                  *
  *                                                                          *
  * Permission is hereby granted, free of charge, to any person obtaining a  *
  * copy of this software and associated documentation files (the            *
  * "Software"), to deal in the Software without restriction, including      *
  * without limitation the rights to use, copy, modify, merge, publish,      *
  * distribute, distribute with modifications, sublicense, and/or sell       *
  * copies of the Software, and to permit persons to whom the Software is    *
  * furnished to do so, subject to the following conditions:                 *
  *                                                                          *
  * The above copyright notice and this permission notice shall be included  *
  * in all copies or substantial portions of the Software.                   *
  *                                                                          *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *
  * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *
  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *
  * IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *
  * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *
  * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *
  * THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *
  *                                                                          *
  * Except as contained in this notice, the name(s) of the above copyright   *
  * holders shall not be used in advertising or otherwise to promote the     *
  * sale, use or other dealings in this Software without prior written       *
  * authorization.                                                           *
  ****************************************************************************
  * @Id: curs_terminfo.3x,v 1.75 2021/06/17 21:11:08 tom Exp @
  * ***************************************************************************
  * ***************************************************************************
  * ***************************************************************************
  * ***************************************************************************
  * ***************************************************************************
  * ***************************************************************************
  * ***************************************************************************
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<meta name="generator" content="Manpage converted by man2html - see https://invisible-island.net/scripts/readme.html#others_scripts">
<TITLE>curs_terminfo 3X</TITLE>
<link rel="author" href="mailto:bug-ncurses@gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</HEAD>
<BODY>
<H1 class="no-header">curs_terminfo 3X</H1>
<PRE>
<B><A HREF="curs_terminfo.3X.html">curs_terminfo(3X)</A></B>                                            <B><A HREF="curs_terminfo.3X.html">curs_terminfo(3X)</A></B>




</PRE><H2><a name="h2-NAME">NAME</a></H2><PRE>
       <B>del_curterm</B>, <B>mvcur</B>, <B>putp</B>, <B>restartterm</B>, <B>set_curterm</B>, <B>setupterm</B>,
       <B>tigetflag</B>, <B>tigetnum</B>, <B>tigetstr</B>, <B>tiparm</B>, <B>tparm</B>, <B>tputs</B>, <B>vid_attr</B>,
       <B>vid_puts</B>, <B>vidattr</B>, <B>vidputs</B> - <B>curses</B> interfaces to terminfo database


</PRE><H2><a name="h2-SYNOPSIS">SYNOPSIS</a></H2><PRE>
       <B>#include</B> <B>&lt;curses.h&gt;</B>
       <B>#include</B> <B>&lt;term.h&gt;</B>

       <B>TERMINAL</B> <B>*cur_term;</B>

       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>boolnames[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>boolcodes[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>boolfnames[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>numnames[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>numcodes[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>numfnames[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>strnames[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>strcodes[];</B>
       <B>const</B> <B>char</B> <B>*</B> <B>const</B> <B>strfnames[];</B>

       <B>int</B> <B>setupterm(const</B> <B>char</B> <B>*</B><I>term</I><B>,</B> <B>int</B> <I>filedes</I><B>,</B> <B>int</B> <B>*</B><I>errret</I><B>);</B>
       <B>TERMINAL</B> <B>*set_curterm(TERMINAL</B> <B>*</B><I>nterm</I><B>);</B>
       <B>int</B> <B>del_curterm(TERMINAL</B> <B>*</B><I>oterm</I><B>);</B>
       <B>int</B> <B>restartterm(const</B> <B>char</B> <B>*</B><I>term</I><B>,</B> <B>int</B> <I>filedes</I><B>,</B> <B>int</B> <B>*</B><I>errret</I><B>);</B>

       <B>char</B> <B>*tparm(const</B> <B>char</B> <B>*</B><I>str</I><B>,</B> <B>...);</B>
       <B>int</B> <B>tputs(const</B> <B>char</B> <B>*</B><I>str</I><B>,</B> <B>int</B> <I>affcnt</I><B>,</B> <B>int</B> <B>(*</B><I>putc</I><B>)(int));</B>
       <B>int</B> <B>putp(const</B> <B>char</B> <B>*</B><I>str</I><B>);</B>

       <B>int</B> <B>vidputs(chtype</B> <I>attrs</I><B>,</B> <B>int</B> <B>(*</B><I>putc</I><B>)(int));</B>
       <B>int</B> <B>vidattr(chtype</B> <I>attrs</I><B>);</B>
       <B>int</B> <B>vid_puts(attr_t</B> <I>attrs</I><B>,</B> <B>short</B> <I>pair</I><B>,</B> <B>void</B> <B>*</B><I>opts</I><B>,</B> <B>int</B> <B>(*</B><I>putc</I><B>)(int));</B>
       <B>int</B> <B>vid_attr(attr_t</B> <I>attrs</I><B>,</B> <B>short</B> <I>pair</I><B>,</B> <B>void</B> <B>*</B><I>opts</I><B>);</B>

       <B>int</B> <B>mvcur(int</B> <I>oldrow</I><B>,</B> <B>int</B> <I>oldcol</I><B>,</B> <B>int</B> <I>newrow</I>, int <I>newcol</I><B>);</B>

       <B>int</B> <B>tigetflag(const</B> <B>char</B> <B>*</B><I>capname</I><B>);</B>
       <B>int</B> <B>tigetnum(const</B> <B>char</B> <B>*</B><I>capname</I><B>);</B>
       <B>char</B> <B>*tigetstr(const</B> <B>char</B> <B>*</B><I>capname</I><B>);</B>

       <B>char</B> <B>*tiparm(const</B> <B>char</B> <B>*</B><I>str</I><B>,</B> <B>...);</B>


</PRE><H2><a name="h2-DESCRIPTION">DESCRIPTION</a></H2><PRE>
       These  low-level  routines must be called by programs that have to deal
       directly with the <B>terminfo</B> database to handle certain terminal capabil-
       ities, such as programming function keys.  For all other functionality,
       <B>curses</B> routines are more suitable and their use is recommended.

       None of these functions use  (or  are  aware  of)  multibyte  character
       strings such as UTF-8:

       <B>o</B>   capability names use the POSIX portable character set

       <B>o</B>   capability  string  values  have  no  associated encoding; they are
           strings of 8-bit characters.


</PRE><H3><a name="h3-Initialization">Initialization</a></H3><PRE>
       Initially, <B>setupterm</B> should be called.  The high-level curses functions
       <B>initscr</B>  and  <B>newterm</B> call <B>setupterm</B> to initialize the low-level set of
       terminal-dependent variables [listed in <B><A HREF="terminfo.5.html">terminfo(5)</A></B>].

       Applications can use the terminal  capabilities  either  directly  (via
       header  definitions),  or by special functions.  The header files <B>curs-</B>
       <B>es.h</B> and <B>term.h</B> should be included (in this order) to get  the  defini-
       tions for these strings, numbers, and flags.

       The  <B>terminfo</B>  variables <B>lines</B> and <B>columns</B> are initialized by <B>setupterm</B>
       as follows:

       <B>o</B>   If <B>use_env(FALSE)</B> has been called, values  for  <B>lines</B>  and  <B>columns</B>
           specified in <B>terminfo</B> are used.

       <B>o</B>   Otherwise,  if  the  environment variables <B>LINES</B> and <B>COLUMNS</B> exist,
           their values are used.  If these environment variables do not exist
           and  the program is running in a window, the current window size is
           used.  Otherwise, if the environment variables do  not  exist,  the
           values for <B>lines</B> and <B>columns</B> specified in the <B>terminfo</B> database are
           used.

       Parameterized strings should be passed  through  <B>tparm</B>  to  instantiate
       them.   All  <B>terminfo</B> strings (including the output of <B>tparm</B>) should be
       printed with <B>tputs</B> or <B>putp</B>.  Call <B>reset_shell_mode</B> to restore  the  tty
       modes before exiting [see <B><A HREF="curs_kernel.3X.html">curs_kernel(3X)</A></B>].

       Programs which use cursor addressing should

       <B>o</B>   output <B>enter_ca_mode</B> upon startup and

       <B>o</B>   output <B>exit_ca_mode</B> before exiting.

       Programs which execute shell subprocesses should

       <B>o</B>   call  <B>reset_shell_mode</B>  and output <B>exit_ca_mode</B> before the shell is
           called and

       <B>o</B>   output <B>enter_ca_mode</B> and call <B>reset_prog_mode</B> after returning  from
           the shell.

       The  <B>setupterm</B> routine reads in the <B>terminfo</B> database, initializing the
       <B>terminfo</B> structures, but does not  set  up  the  output  virtualization
       structures used by <B>curses</B>.  These are its parameters:

          <I>term</I> is the terminal type, a character string.  If <I>term</I> is null, the
               environment variable <B>TERM</B> is used.

          <I>filedes</I>
               is the file descriptor used for all output.

          <I>errret</I>
               points to an optional location where an error status can be re-
               turned  to  the  caller.  If <I>errret</I> is not null, then <B>setupterm</B>
               returns <B>OK</B> or <B>ERR</B> and stores a  status  value  in  the  integer
               pointed  to by <I>errret</I>.  A return value of <B>OK</B> combined with sta-
               tus of <B>1</B> in <I>errret</I> is normal.

               If <B>ERR</B> is returned, examine <I>errret</I>:

               <B>1</B>    means that the terminal is hardcopy, cannot  be  used  for
                    curses applications.

                    <B>setupterm</B>  determines  if  the entry is a hardcopy type by
                    checking the <B>hc</B> (<B>hardcopy</B>) capability.

               <B>0</B>    means that the terminal could not be found, or that it  is
                    a  generic  type, having too little information for curses
                    applications to run.

                    <B>setupterm</B> determines if the entry is  a  generic  type  by
                    checking the <B>gn</B> (<B>generic</B>) capability.

               <B>-1</B>   means that the <B>terminfo</B> database could not be found.

               If <I>errret</I> is null, <B>setupterm</B> prints an error message upon find-
               ing an error and exits.  Thus, the simplest call is:

                     <B>setupterm((char</B> <B>*)0,</B> <B>1,</B> <B>(int</B> <B>*)0);</B>,

               which uses all the defaults and sends the output to <B>stdout</B>.


</PRE><H3><a name="h3-The-Terminal-State">The Terminal State</a></H3><PRE>
       The <B>setupterm</B> routine stores its information about the  terminal  in  a
       <B>TERMINAL</B>  structure  pointed to by the global variable <B>cur_term</B>.  If it
       detects an error, or decides that the terminal is unsuitable  (hardcopy
       or  generic),  it discards this information, making it not available to
       applications.

       If <B>setupterm</B> is called repeatedly for the same terminal type,  it  will
       reuse  the  information.   It maintains only one copy of a given termi-
       nal's capabilities in memory.  If it is called for  different  terminal
       types,  <B>setupterm</B>  allocates new storage for each set of terminal capa-
       bilities.

       The <B>set_curterm</B> routine sets <B>cur_term</B> to <I>nterm</I>, and makes  all  of  the
       <B>terminfo</B>  boolean,  numeric,  and  string variables use the values from
       <I>nterm</I>.  It returns the old value of <B>cur_term</B>.

       The <B>del_curterm</B> routine frees the space pointed to by <I>oterm</I>  and  makes
       it available for further use.  If <I>oterm</I> is the same as <B>cur_term</B>, refer-
       ences to any of the <B>terminfo</B> boolean,  numeric,  and  string  variables
       thereafter  may  refer  to  invalid  memory locations until another <B>se-</B>
       <B>tupterm</B> has been called.

       The <B>restartterm</B> routine is similar to  <B>setupterm</B>  and  <B>initscr</B>,  except
       that it is called after restoring memory to a previous state (for exam-
       ple, when reloading a game saved as a core  image  dump).   <B>restartterm</B>
       assumes  that the windows and the input and output options are the same
       as when memory was saved, but the terminal type and baud  rate  may  be
       different.   Accordingly,  <B>restartterm</B>  saves  various  tty state bits,
       calls <B>setupterm</B>, and then restores the bits.


</PRE><H3><a name="h3-Formatting-Output">Formatting Output</a></H3><PRE>
       The <B>tparm</B> routine instantiates the string <I>str</I> with  parameters  <I>pi</I>.   A
       pointer  is  returned to the result of <I>str</I> with the parameters applied.
       Application developers should keep in mind these quirks of  the  inter-
       face:

       <B>o</B>   Although  <B>tparm</B>'s actual parameters may be integers or strings, the
           prototype expects <B>long</B> (integer) values.

       <B>o</B>   Aside from the <B>set_attributes</B> (<B>sgr</B>) capability, most terminal capa-
           bilities require no more than one or two parameters.

       <B>o</B>   Padding  information  is  ignored  by  <B>tparm</B>;  it is interpreted by
           <B>tputs</B>.

       <B>o</B>   The capability string is  null-terminated.   Use  "\200"  where  an
           ASCII NUL is needed in the output.

       <B>tiparm</B>  is  a  newer  form of <B>tparm</B> which uses <I>&lt;stdarg.h&gt;</I> rather than a
       fixed-parameter list.  Its numeric parameters are integers (int) rather
       than longs.


</PRE><H3><a name="h3-Output-Functions">Output Functions</a></H3><PRE>
       The  <B>tputs</B>  routine  applies padding information (i.e., by interpreting
       marker embedded in the terminfo capability such as  "$&lt;5&gt;"  as  5  mil-
       liseconds) to the string <I>str</I> and outputs it:

       <B>o</B>   The  <I>str</I> parameter must be a terminfo string variable or the return
           value from <B>tparm</B>, <B>tiparm</B>, <B>tgetstr</B>, or <B>tgoto</B>.

           The <B>tgetstr</B> and <B>tgoto</B> functions are part of the <I>termcap</I>  interface,
           which  happens to share this function name with the <I>terminfo</I> inter-
           face.

       <B>o</B>   <I>affcnt</I> is the number of lines affected, or 1 if not applicable.

       <B>o</B>   <I>putc</I> is a <B>putchar</B>-like routine to which the characters are  passed,
           one at a time.

       The  <B>putp</B> routine calls <B>tputs(</B><I>str</I><B>,</B> <B>1,</B> <B>putchar)</B>.  The output of <B>putp</B> al-
       ways goes to <B>stdout</B>, rather than the <I>filedes</I> specified in <B>setupterm</B>.

       The <B>vidputs</B> routine displays the string on the terminal  in  the  video
       attribute mode <I>attrs</I>, which is any combination of the attributes listed
       in <B><A HREF="curses.3X.html">curses(3X)</A></B>.  The characters are passed to the  <B>putchar</B>-like  routine
       <I>putc</I>.

       The <B>vidattr</B> routine is like the <B>vidputs</B> routine, except that it outputs
       through <B>putchar</B>.

       The <B>vid_attr</B> and <B>vid_puts</B> routines correspond to vidattr  and  vidputs,
       respectively.   They  use a set of arguments for representing the video
       attributes plus color, i.e.,

       <B>o</B>   <I>attrs</I> of type <B>attr_t</B> for the attributes and

       <B>o</B>   <I>pair</I> of type <B>short</B> for the color-pair number.

       The <B>vid_attr</B> and <B>vid_puts</B> routines are designed to  use  the  attribute
       constants with the <I>WA</I><B>_</B> prefix.

       X/Open  Curses  reserves  the <I>opts</I> argument for future use, saying that
       applications must provide a null pointer for that argument.  As an  ex-
       tension,  this  implementation  allows  <I>opts</I> to be used as a pointer to
       <B>int</B>, which overrides the <I>pair</I> (<B>short</B>) argument.

       The <B>mvcur</B> routine provides low-level cursor motion.   It  takes  effect
       immediately (rather than at the next refresh).

       While <B>putp</B> and <B>mvcur</B> are low-level functions which do not use the high-
       level curses state, they are declared in <B>&lt;curses.h&gt;</B> because SystemV did
       this (see <B>HISTORY</B>).


</PRE><H3><a name="h3-Terminal-Capability-Functions">Terminal Capability Functions</a></H3><PRE>
       The  <B>tigetflag</B>,  <B>tigetnum</B> and <B>tigetstr</B> routines return the value of the
       capability corresponding to the <B>terminfo</B> <I>capname</I> passed to  them,  such
       as  <B>xenl</B>.  The <I>capname</I> for each capability is given in the table column
       entitled <I>capname</I> code in the capabilities section of <B><A HREF="terminfo.5.html">terminfo(5)</A></B>.

       These routines return special values to denote errors.

       The <B>tigetflag</B> routine returns

       <B>-1</B>     if <I>capname</I> is not a boolean capability, or

       <B>0</B>      if it is canceled or absent from the terminal description.

       The <B>tigetnum</B> routine returns

       <B>-2</B>     if <I>capname</I> is not a numeric capability, or

       <B>-1</B>     if it is canceled or absent from the terminal description.

       The <B>tigetstr</B> routine returns

       <B>(char</B> <B>*)-1</B>
              if <I>capname</I> is not a string capability, or

       <B>0</B>      if it is canceled or absent from the terminal description.


</PRE><H3><a name="h3-Terminal-Capability-Names">Terminal Capability Names</a></H3><PRE>
       These null-terminated arrays contain

       <B>o</B>   the short terminfo names ("codes"),

       <B>o</B>   the <B>termcap</B> names ("names"), and

       <B>o</B>   the long terminfo names ("fnames")

       for each of the predefined <B>terminfo</B> variables:

              <B>const</B> <B>char</B> <B>*boolnames[]</B>, <B>*boolcodes[]</B>, <B>*boolfnames[]</B>
              <B>const</B> <B>char</B> <B>*numnames[]</B>, <B>*numcodes[]</B>, <B>*numfnames[]</B>
              <B>const</B> <B>char</B> <B>*strnames[]</B>, <B>*strcodes[]</B>, <B>*strfnames[]</B>


</PRE><H2><a name="h2-RETURN-VALUE">RETURN VALUE</a></H2><PRE>
       Routines that return an integer return <B>ERR</B> upon failure  and  <B>OK</B>  (SVr4
       only  specifies "an integer value other than <B>ERR</B>") upon successful com-
       pletion, unless otherwise noted in the preceding routine descriptions.

       Routines that return pointers always return <B>NULL</B> on error.

       X/Open defines no error conditions.  In this implementation

          <B>del_curterm</B>
               returns an error if its terminal parameter is null.

          <B>putp</B> calls <B>tputs</B>, returning the same error-codes.

          <B>restartterm</B>
               returns an error if the associated call to <B>setupterm</B> returns an
               error.

          <B>setupterm</B>
               returns an error if it cannot allocate enough memory, or create
               the initial windows (stdscr, curscr, newscr).  Other error con-
               ditions are documented above.

          <B>tputs</B>
               returns  an error if the string parameter is null.  It does not
               detect I/O errors: X/Open states that <B>tputs</B> ignores the  return
               value of the output function <I>putc</I>.


</PRE><H3><a name="h3-Compatibility-macros">Compatibility macros</a></H3><PRE>
       This  implementation  provides a few macros for compatibility with sys-
       tems  before  SVr4  (see  <B>HISTORY</B>).   Those  include  <B>crmode</B>,  <B>fixterm</B>,
       <B>gettmode</B>, <B>nocrmode</B>, <B>resetterm</B>, <B>saveterm</B>, and <B>setterm</B>.

       In  SVr4,  those  are  found in <B>&lt;curses.h&gt;</B>, but except for <B>setterm</B>, are
       likewise macros.  The one function, <B>setterm</B>, is mentioned in the manual
       page.   The  manual page notes that the <B>setterm</B> routine was replaced by
       <B>setupterm</B>, stating that the call:

             <B>setupterm(</B><I>term</I><B>,</B> <B>1,</B> <B>(int</B> <B>*)0)</B>

       provides the same functionality as <B>setterm(</B><I>term</I><B>)</B>, and is not recommend-
       ed  for  new programs.  This implementation provides each of those sym-
       bols as macros for BSD compatibility,


</PRE><H2><a name="h2-HISTORY">HISTORY</a></H2><PRE>
       SVr2 introduced the terminfo feature.  Its programming manual mentioned
       these low-level functions:

       <B>Function</B>    <B>Description</B>
       ------------------------------------------------------------
       fixterm     restore tty to "in curses" state
       gettmode    establish current tty modes
       mvcur       low level cursor motion
       putp        utility  function that uses <B>tputs</B> to send char-
                   acters via <B>putchar</B>.
       resetterm   set tty modes to "out of curses" state
       resetty     reset tty flags to stored value
       saveterm    save current modes as "in curses" state
       savetty     store current tty flags
       setterm     establish terminal with given type
       setupterm   establish terminal with given type
       tparm       instantiate a string expression with parameters
       tputs       apply padding information to a string
       vidattr     like <B>vidputs</B>, but outputs through <B>putchar</B>
       vidputs     output a string to put terminal in a  specified
                   video attribute mode

       The  programming  manual  also mentioned functions provided for termcap
       compatibility (commenting that they "may go away at a later date"):

       <B>Function</B>   <B>Description</B>
       ------------------------------------------------
       tgetent    look up termcap entry for given <I>name</I>
       tgetflag   get boolean entry for given <I>id</I>
       tgetnum    get numeric entry for given <I>id</I>
       tgetstr    get string entry for given <I>id</I>
       tgoto      apply parameters to given capability
       tputs      apply padding to capability, calling
                  a function to put characters

       Early  terminfo  programs  obtained capability values from the <B>TERMINAL</B>
       structure initialized by <B>setupterm</B>.

       SVr3 extended terminfo by adding functions to retrieve capability  val-
       ues (like the termcap interface), and reusing tgoto and tputs:

       <B>Function</B>    <B>Description</B>
       -------------------------------------------
       tigetflag   get boolean entry for given <I>id</I>
       tigetnum    get numeric entry for given <I>id</I>
       tigetstr    get string entry for given <I>id</I>

       SVr3  also replaced several of the SVr2 terminfo functions which had no
       counterpart in the termcap interface, documenting them as obsolete:

       <B>Function</B>    <B>Replaced</B> <B>by</B>
       -----------------------------
       crmode      cbreak
       fixterm     reset_prog_mode
       gettmode    N/A
       nocrmode    nocbreak
       resetterm   reset_shell_mode
       saveterm    def_prog_mode
       setterm     setupterm

       SVr3 kept the <B>mvcur</B>, <B>vidattr</B> and <B>vidputs</B> functions,  along  with  <B>putp</B>,
       <B>tparm</B>  and  <B>tputs</B>.  The latter were needed to support padding, and han-
       dling functions such as <B>vidattr</B> (which used more than the  two  parame-
       ters supported by <B>tgoto</B>).

       SVr3  introduced  the functions for switching between terminal descrip-
       tions, e.g., <B>set_curterm</B>.  The various global variables such  as  <B>bool-</B>
       <B>names</B> were mentioned in the programming manual at this point.

       SVr4 added the <B>vid_attr</B> and <B>vid_puts</B> functions.

       There are other low-level functions declared in the curses header files
       on Unix systems, but none were documented.  The functions marked "obso-
       lete" remained in use by the Unix <B>vi</B> editor.


</PRE><H2><a name="h2-PORTABILITY">PORTABILITY</a></H2><PRE>

</PRE><H3><a name="h3-Legacy-functions">Legacy functions</a></H3><PRE>
       X/Open notes that <B>vidattr</B> and <B>vidputs</B> may be macros.

       The  function <B>setterm</B> is not described by X/Open and must be considered
       non-portable.  All other functions are as described by X/Open.


</PRE><H3><a name="h3-Legacy-data">Legacy data</a></H3><PRE>
       <B>setupterm</B> copies the terminal name to the array <B>ttytype</B>.  This  is  not
       part of X/Open Curses, but is assumed by some applications.

       Other  implementions  may not declare the capability name arrays.  Some
       provide them without declaring them.  X/Open does not specify them.

       Extended terminal capability names, e.g., as defined by <B>tic</B> <B>-x</B>, are not
       stored in the arrays described here.


</PRE><H3><a name="h3-Output-buffering">Output buffering</a></H3><PRE>
       Older  versions  of  <B>ncurses</B> assumed that the file descriptor passed to
       <B>setupterm</B> from <B>initscr</B> or <B>newterm</B> uses buffered I/O, and would write to
       the  corresponding stream.  In addition to the limitation that the ter-
       minal was left in block-buffered mode on exit (like System  V  curses),
       it  was  problematic  because  <B>ncurses</B>  did not allow a reliable way to
       cleanup on receiving SIGTSTP.

       The current version (ncurses6) uses output buffers managed directly  by
       <B>ncurses</B>.  Some of the low-level functions described in this manual page
       write to the standard output.  They are not signal-safe.  The high-lev-
       el functions in <B>ncurses</B> use alternate versions of these functions using
       the more reliable buffering scheme.


</PRE><H3><a name="h3-Function-prototypes">Function prototypes</a></H3><PRE>
       The X/Open Curses prototypes are based on the SVr4 curses header decla-
       rations,  which  were defined at the same time the C language was first
       standardized in the late 1980s.

       <B>o</B>   X/Open Curses uses <B>const</B>  less  effectively  than  a  later  design
           might,  in  some cases applying it needlessly to values are already
           constant, and in most cases overlooking parameters  which  normally
           would  use <B>const</B>.  Using constant parameters for functions which do
           not use <B>const</B> may prevent the program from compiling.  On the other
           hand, <I>writable</I> <I>strings</I> are an obsolescent feature.

           As  an  extension,  this implementation can be configured to change
           the function prototypes to use the <B>const</B> keyword.  The ncurses  ABI
           6 enables this feature by default.

       <B>o</B>   X/Open  Curses  prototypes <B>tparm</B> with a fixed number of parameters,
           rather than a variable argument list.

           This implementation uses a variable argument list, but can be  con-
           figured  to  use  the  fixed-parameter list.  Portable applications
           should provide 9 parameters after the format; zeroes are  fine  for
           this purpose.

           In  response  to review comments by Thomas E. Dickey, X/Open Curses
           Issue 7 proposed the <B>tiparm</B> function in mid-2009.


</PRE><H3><a name="h3-Special-TERM-treatment">Special TERM treatment</a></H3><PRE>
       If configured to use the terminal-driver, e.g., for the MinGW port,

       <B>o</B>   <B>setupterm</B> interprets a missing/empty TERM variable as  the  special
           value "unknown".

       <B>o</B>   <B>setupterm</B>  allows explicit use of the the windows console driver by
           checking if $TERM is set to "#win32con" or an abbreviation of  that
           string.


</PRE><H3><a name="h3-Other-portability-issues">Other portability issues</a></H3><PRE>
       In  System  V Release 4, <B>set_curterm</B> has an <B>int</B> return type and returns
       <B>OK</B> or <B>ERR</B>.  We have chosen to implement the X/Open Curses semantics.

       In System V Release 4, the third argument of <B>tputs</B>  has  the  type  <B>int</B>
       <B>(*putc)(char)</B>.

       At  least one implementation of X/Open Curses (Solaris) returns a value
       other than <B>OK</B>/<B>ERR</B> from <B>tputs</B>.  That returns the length of  the  string,
       and does no error-checking.

       X/Open  notes  that after calling <B>mvcur</B>, the curses state may not match
       the actual terminal state, and that an application should touch and re-
       fresh the window before resuming normal curses calls.  Both <B>ncurses</B> and
       System V Release 4 curses implement <B>mvcur</B> using the SCREEN  data  allo-
       cated  in  either  <B>initscr</B> or <B>newterm</B>.  So though it is documented as a
       terminfo function, <B>mvcur</B> is really a curses function which is not  well
       specified.

       X/Open  states that the old location must be given for <B>mvcur</B>.  This im-
       plementation allows the caller to use -1's for the old  ordinates.   In
       that case, the old location is unknown.


</PRE><H2><a name="h2-SEE-ALSO">SEE ALSO</a></H2><PRE>
       <B><A HREF="curses.3X.html">curses(3X)</A></B>,    <B><A HREF="curs_initscr.3X.html">curs_initscr(3X)</A></B>,   <B><A HREF="curs_kernel.3X.html">curs_kernel(3X)</A></B>,   <B><A HREF="curs_termcap.3X.html">curs_termcap(3X)</A></B>,
       <B><A HREF="curs_variables.3X.html">curs_variables(3X)</A></B>, <B><A HREF="term_variables.3X.html">term_variables(3X)</A></B>, <B>putc(3)</B>, <B><A HREF="terminfo.5.html">terminfo(5)</A></B>



                                                             <B><A HREF="curs_terminfo.3X.html">curs_terminfo(3X)</A></B>
</PRE>
<div class="nav">
<ul>
<li><a href="#h2-NAME">NAME</a></li>
<li><a href="#h2-SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#h2-DESCRIPTION">DESCRIPTION</a>
<ul>
<li><a href="#h3-Initialization">Initialization</a></li>
<li><a href="#h3-The-Terminal-State">The Terminal State</a></li>
<li><a href="#h3-Formatting-Output">Formatting Output</a></li>
<li><a href="#h3-Output-Functions">Output Functions</a></li>
<li><a href="#h3-Terminal-Capability-Functions">Terminal Capability Functions</a></li>
<li><a href="#h3-Terminal-Capability-Names">Terminal Capability Names</a></li>
</ul>
</li>
<li><a href="#h2-RETURN-VALUE">RETURN VALUE</a>
<ul>
<li><a href="#h3-Compatibility-macros">Compatibility macros</a></li>
</ul>
</li>
<li><a href="#h2-HISTORY">HISTORY</a></li>
<li><a href="#h2-PORTABILITY">PORTABILITY</a>
<ul>
<li><a href="#h3-Legacy-functions">Legacy functions</a></li>
<li><a href="#h3-Legacy-data">Legacy data</a></li>
<li><a href="#h3-Output-buffering">Output buffering</a></li>
<li><a href="#h3-Function-prototypes">Function prototypes</a></li>
<li><a href="#h3-Special-TERM-treatment">Special TERM treatment</a></li>
<li><a href="#h3-Other-portability-issues">Other portability issues</a></li>
</ul>
</li>
<li><a href="#h2-SEE-ALSO">SEE ALSO</a></li>
</ul>
</div>
</BODY>
</HTML>
