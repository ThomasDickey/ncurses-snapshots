<!--
  ****************************************************************************
  * Copyright 2018-2019,2020 Thomas E. Dickey                                *
  * Copyright 2002-2012,2017 Free Software Foundation, Inc.                  *
  *                                                                          *
  * Permission is hereby granted, free of charge, to any person obtaining a  *
  * copy of this software and associated documentation files (the            *
  * "Software"), to deal in the Software without restriction, including      *
  * without limitation the rights to use, copy, modify, merge, publish,      *
  * distribute, distribute with modifications, sublicense, and/or sell       *
  * copies of the Software, and to permit persons to whom the Software is    *
  * furnished to do so, subject to the following conditions:                 *
  *                                                                          *
  * The above copyright notice and this permission notice shall be included  *
  * in all copies or substantial portions of the Software.                   *
  *                                                                          *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *
  * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *
  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *
  * IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *
  * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *
  * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *
  * THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *
  *                                                                          *
  * Except as contained in this notice, the name(s) of the above copyright   *
  * holders shall not be used in advertising or otherwise to promote the     *
  * sale, use or other dealings in this Software without prior written       *
  * authorization.                                                           *
  ****************************************************************************
  * @Id: curs_get_wstr.3x,v 1.21 2020/10/17 23:17:24 tom Exp @
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<meta name="generator" content="Manpage converted by man2html - see https://invisible-island.net/scripts/readme.html#others_scripts">
<TITLE>curs_get_wstr 3X</TITLE>
<link rel="author" href="mailto:bug-ncurses@gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</HEAD>
<BODY>
<H1 class="no-header">curs_get_wstr 3X</H1>
<PRE>
<B><A HREF="curs_get_wstr.3X.html">curs_get_wstr(3X)</A></B>                                            <B><A HREF="curs_get_wstr.3X.html">curs_get_wstr(3X)</A></B>




</PRE><H2><a name="h2-NAME">NAME</a></H2><PRE>
       <B>get_wstr</B>, <B>getn_wstr</B>, <B>wget_wstr</B>, <B>wgetn_wstr</B>, <B>mvget_wstr</B>, <B>mvgetn_wstr</B>,
       <B>mvwget_wstr</B>, <B>mvwgetn_wstr</B> - get an array of wide characters from a
       curses terminal keyboard


</PRE><H2><a name="h2-SYNOPSIS">SYNOPSIS</a></H2><PRE>
       <B>#include</B> <B>&lt;curses.h&gt;</B>

       <B>int</B> <B>get_wstr(wint_t</B> <B>*</B><I>wstr</I><B>);</B>
       <B>int</B> <B>getn_wstr(wint_t</B> <B>*</B><I>wstr</I><B>,</B> <B>int</B> <I>n</I><B>);</B>
       <B>int</B> <B>wget_wstr(WINDOW</B> <B>*</B><I>win</I><B>,</B> <B>wint_t</B> <B>*</B><I>wstr</I><B>);</B>
       <B>int</B> <B>wgetn_wstr(WINDOW</B> <B>*</B><I>win</I><B>,</B> <B>wint_t</B> <B>*</B><I>wstr</I><B>,</B> <B>int</B> <I>n</I><B>);</B>

       <B>int</B> <B>mvget_wstr(int</B> <I>y</I><B>,</B> <B>int</B> <I>x</I><B>,</B> <B>wint_t</B> <B>*</B><I>wstr</I><B>);</B>
       <B>int</B> <B>mvgetn_wstr(int</B> <I>y</I><B>,</B> <B>int</B> <I>x</I><B>,</B> <B>wint_t</B> <B>*</B><I>wstr</I><B>,</B> <B>int</B> <I>n</I><B>);</B>
       <B>int</B> <B>mvwget_wstr(WINDOW</B> <B>*</B><I>win</I><B>,</B> <B>int</B> <I>y</I><B>,</B> <B>int</B> <I>x</I><B>,</B> <B>wint_t</B> <B>*</B><I>wstr</I><B>);</B>
       <B>int</B> <B>mvwgetn_wstr(WINDOW</B> <B>*</B><I>win</I><B>,</B> <B>int</B> <I>y</I><B>,</B> <B>int</B> <I>x</I><B>,</B> <B>wint_t</B> <B>*</B><I>wstr</I><B>,</B> <B>int</B> <I>n</I><B>);</B>


</PRE><H2><a name="h2-DESCRIPTION">DESCRIPTION</a></H2><PRE>
       The  effect  of  <B>get_wstr</B> is as though a series of calls to <B><A HREF="curs_get_wch.3X.html">get_wch(3X)</A></B>
       were made, until a newline, other end-of-line, or end-of-file condition
       is  processed.  An end-of-file condition is represented by <B>WEOF</B>, as de-
       fined in <B>&lt;wchar.h&gt;</B>.  The newline and end-of-line conditions are  repre-
       sented  by  the  <B>\n</B>  <B>wchar_t</B>  value.   In all instances, the end of the
       string is terminated by a null <B>wchar_t</B>.  The routine  places  resulting
       values in the area pointed to by <I>wstr</I>.

       The  user's  erase and kill characters are interpreted.  If keypad mode
       is on for the window, <B>KEY_LEFT</B> and <B>KEY_BACKSPACE</B>  are  both  considered
       equivalent to the user's kill character.

       Characters  input  are  echoed  only  if <B>echo</B> is currently on.  In that
       case, backspace is echoed as deletion of the previous character  (typi-
       cally a left motion).

       The effect of <B>wget_wstr</B> is as though a series of calls to <B>wget_wch</B> were
       made.

       The effect of <B>mvget_wstr</B> is as though a call to <B>move</B> and then a  series
       of calls to <B>get_wch</B> were made.

       The  effect  of <B>mvwget_wstr</B> is as though a call to <B>wmove</B> and then a se-
       ries of calls to <B>wget_wch</B> were made.

       The <B>getn_wstr</B>, <B>mvgetn_wstr</B>, <B>mvwgetn_wstr</B>, and <B>wgetn_wstr</B> functions  are
       identical to the <B>get_wstr</B>, <B>mvget_wstr</B>, <B>mvwget_wstr</B>, and <B>wget_wstr</B> func-
       tions, respectively, except that the <B>*n_*</B> versions read at most <I>n</I> char-
       acters, letting the application prevent overflow of the input buffer.


</PRE><H2><a name="h2-NOTES">NOTES</a></H2><PRE>
       Using  <B>get_wstr</B>,  <B>mvget_wstr</B>,  <B>mvwget_wstr</B>, or <B>wget_wstr</B> to read a line
       that overflows the array pointed to by <B>wstr</B> causes  undefined  results.
       The use of <B>getn_wstr</B>, <B>mvgetn_wstr</B>, <B>mvwgetn_wstr</B>, or <B>wgetn_wstr</B>, respec-
       tively, is recommended.

       These functions cannot return <B>KEY_</B> values because there is  no  way  to
       distinguish a <B>KEY_</B> value from a valid <B>wchar_t</B> value.

       All of these routines except <B>wgetn_wstr</B> may be macros.


</PRE><H2><a name="h2-RETURN-VALUE">RETURN VALUE</a></H2><PRE>
       All  of  these  functions return <B>OK</B> upon successful completion.  Other-
       wise, they return <B>ERR</B>.

       Functions using a window parameter return an error if it is null.

              <B>wgetn_wstr</B>
                   returns an error if the associated call to <B>wget_wch</B> failed.

       Functions with a "mv" prefix first  perform  a  cursor  movement  using
       <B>wmove</B>, and return an error if the position is outside the window, or if
       the window pointer is null.


</PRE><H2><a name="h2-PORTABILITY">PORTABILITY</a></H2><PRE>
       These functions are described in The Single Unix Specification, Version
       2.   No  error conditions are defined.  This implementation returns <B>ERR</B>
       if the window pointer is null, or if the lower-level <B>wget_wch</B> call  re-
       turns  an <B>ERR</B>.  In the latter case, an <B>ERR</B> return without other data is
       treated as an end-of-file condition, and the returned array contains  a
       <B>WEOF</B> followed by a null <B>wchar_t</B>.

       X/Open curses documented these functions to pass an array of <B>wchar_t</B> in
       1997, but that was an error because of this part of the description:

              The effect of <I>get</I><B>_</B><I>wstr()</I> is as  though  a  series  of  calls  to
              <I>get</I><B>_</B><I>wch()</I>  were  made,  until  a  newline character, end-of-line
              character, or end-of-file character is processed.

       The latter function  <I>get</I><B>_</B><I>wch()</I>  can  return  a  negative  value,  while
       <B>wchar_t</B>  is  a  unsigned type.  All of the vendors implement this using
       <B>wint_t</B>, following the standard.

       X/Open Curses, Issue 7 (2009) is unclear regarding whether  the  termi-
       nating <I>null</I> <B>wchar_t</B> value is counted in the length parameter <I>n</I>.  X/Open
       Curses, Issue 7 revised the corresponding description  of  <B>wgetnstr</B>  to
       address this issue.  The unrevised description of <B>wget_nwstr</B> can be in-
       terpreted either way.  This implementation counts the terminator in the
       length.

       X/Open  Curses  does  not specify what happens if the length <I>n</I> is nega-
       tive.

       <B>o</B>   For analogy with <B>wgetnstr</B>, ncurses  6.2  uses  a  limit  (based  on
           <B>LINE_MAX</B>).

       <B>o</B>   Some  other  implementations (such as Solaris xcurses) do the same,
           while others (PDCurses) do not allow this.

       <B>o</B>   NetBSD 7 curses imitates ncurses 6.1 in this regard, treating a  <B>-1</B>
           as an indefinite number of characters.


</PRE><H2><a name="h2-SEE-ALSO">SEE ALSO</a></H2><PRE>
       Functions: <B><A HREF="curses.3X.html">curses(3X)</A></B>, <B><A HREF="curs_get_wch.3X.html">curs_get_wch(3X)</A></B>, <B><A HREF="curs_getstr.3X.html">curs_getstr(3X)</A></B>.



                                                             <B><A HREF="curs_get_wstr.3X.html">curs_get_wstr(3X)</A></B>
</PRE>
<div class="nav">
<ul>
<li><a href="#h2-NAME">NAME</a></li>
<li><a href="#h2-SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#h2-DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#h2-NOTES">NOTES</a></li>
<li><a href="#h2-RETURN-VALUE">RETURN VALUE</a></li>
<li><a href="#h2-PORTABILITY">PORTABILITY</a></li>
<li><a href="#h2-SEE-ALSO">SEE ALSO</a></li>
</ul>
</div>
</BODY>
</HTML>
